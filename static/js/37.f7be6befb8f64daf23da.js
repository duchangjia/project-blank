webpackJsonp([37],{1063:function(a,e){a.exports={render:function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{staticClass:"add_preSale"},[t("current",{attrs:{yiji:"项目管理",erji:"售前立项",sanji:"售前立项新增"}}),a._v(" "),t("div",{staticClass:"content-wrapper"},[t("div",{staticClass:"titlebar"},[t("span",{staticClass:"title-text"},[a._v("售前立项新增")]),a._v(" "),t("div",{staticClass:"titleBtn_wrapper"},[t("el-button",{staticClass:"btn-primary",on:{click:a.handleSaveAndSubmit}},[a._v("保存提交审批")]),a._v(" "),t("el-button",{staticClass:"btn-primary",on:{click:a.handleNotSubmit}},[a._v("保存暂不提交审批")])],1)]),a._v(" "),t("div",{staticClass:"add-wrapper"},[t("el-form",{ref:"formdata1",attrs:{inline:!0,rules:a.rules1,model:a.formdata1,"label-width":"134px"}},[t("el-col",{attrs:{sm:24,md:12}},[t("el-form-item",{attrs:{label:"项目名称",prop:"projName"}},[t("el-input",{model:{value:a.formdata1.projName,callback:function(e){a.$set(a.formdata1,"projName",e)},expression:"formdata1.projName"}})],1)],1),a._v(" "),t("el-col",{attrs:{sm:24,md:12}},[t("el-form-item",{attrs:{label:"收入类型",prop:"projIncmConfim"}},[t("el-select",{model:{value:a.formdata1.projIncmConfim,callback:function(e){a.$set(a.formdata1,"projIncmConfim",e)},expression:"formdata1.projIncmConfim"}},a._l(a.projIncmTypeList,function(a){return t("el-option",{key:a.paraValue,attrs:{label:a.paraShowMsg,value:a.paraValue}})}))],1)],1),a._v(" "),t("el-col",{attrs:{sm:24,md:12}},[t("el-form-item",{attrs:{label:"客户",prop:"coocustNo"}},[t("el-input",{model:{value:a.formdata1.coocustNo,callback:function(e){a.$set(a.formdata1,"coocustNo",e)},expression:"formdata1.coocustNo"}})],1)],1),a._v(" "),t("el-col",{attrs:{sm:24,md:12}},[t("el-form-item",{attrs:{label:"服务管理模式",prop:"projSrvMngmode"}},[t("el-select",{model:{value:a.formdata1.projSrvMngmode,callback:function(e){a.$set(a.formdata1,"projSrvMngmode",e)},expression:"formdata1.projSrvMngmode"}},a._l(a.fuwuModelList,function(a){return t("el-option",{key:a.paraValue,attrs:{label:a.paraShowMsg,value:a.paraValue}})}))],1)],1),a._v(" "),t("el-col",{attrs:{sm:24,md:12}},[t("el-form-item",{attrs:{label:"项目类型",prop:"projType"}},[t("el-select",{model:{value:a.formdata1.projType,callback:function(e){a.$set(a.formdata1,"projType",e)},expression:"formdata1.projType"}},a._l(a.projTypeList,function(a){return t("el-option",{key:a.paraValue,attrs:{label:a.paraShowMsg,value:a.paraValue}})}))],1)],1),a._v(" "),t("el-col",{attrs:{sm:24,md:12}},[t("el-form-item",{attrs:{label:"收入确认类型",prop:"projIncmType"}},[t("el-select",{model:{value:a.formdata1.projIncmType,callback:function(e){a.$set(a.formdata1,"projIncmType",e)},expression:"formdata1.projIncmType"}},a._l(a.incmConfimList,function(a){return t("el-option",{key:a.paraValue,attrs:{label:a.paraShowMsg,value:a.paraValue}})}))],1)],1),a._v(" "),t("el-col",{attrs:{sm:24,md:12}},[t("el-form-item",{attrs:{label:"预计合同金额",prop:"projPreconAmt"}},[t("el-input",{model:{value:a.formdata1.projPreconAmt,callback:function(e){a.$set(a.formdata1,"projPreconAmt",e)},expression:"formdata1.projPreconAmt"}})],1)],1),a._v(" "),t("el-col",{attrs:{sm:24,md:12}},[t("el-form-item",{attrs:{label:"订单类型",prop:"projOrdType"}},[t("el-select",{model:{value:a.formdata1.projOrdType,callback:function(e){a.$set(a.formdata1,"projOrdType",e)},expression:"formdata1.projOrdType"}},a._l(a.dindanTypeList,function(a){return t("el-option",{key:a.paraValue,attrs:{label:a.paraShowMsg,value:a.paraValue}})}))],1)],1),a._v(" "),t("el-col",{attrs:{sm:24,md:12}},[t("el-form-item",{staticClass:"projImplePla",attrs:{label:"项目交付地",prop:"projImplePla"}},[t("el-input",{attrs:{type:"text"},model:{value:a.formdata1.projImplePla,callback:function(e){a.$set(a.formdata1,"projImplePla",e)},expression:"formdata1.projImplePla"}})],1)],1),a._v(" "),t("el-col",{attrs:{sm:24,md:12}},[t("el-form-item",{attrs:{label:"预计合同签订时间",prop:"porjPreconDate"}},[t("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date","value-format":"yyyy-MM-dd"},on:{change:a.changePorjPreconDate},model:{value:a.formdata1.porjPreconDate,callback:function(e){a.$set(a.formdata1,"porjPreconDate",e)},expression:"formdata1.porjPreconDate"}})],1)],1),a._v(" "),t("el-col",{attrs:{sm:24,md:12}},[t("el-form-item",{attrs:{label:"计划开始时间",prop:"projImpBegdate"}},[t("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date","value-format":"yyyy-MM-dd"},on:{change:a.changeStartTime},model:{value:a.formdata1.projImpBegdate,callback:function(e){a.$set(a.formdata1,"projImpBegdate",e)},expression:"formdata1.projImpBegdate"}})],1)],1),a._v(" "),t("el-col",{attrs:{sm:24,md:12}},[t("el-form-item",{attrs:{label:"预计结束时间",prop:"projImpEndate"}},[t("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date","value-format":"yyyy-MM-dd"},on:{change:a.changeEndTime},model:{value:a.formdata1.projImpEndate,callback:function(e){a.$set(a.formdata1,"projImpEndate",e)},expression:"formdata1.projImpEndate"}})],1)],1)],1),a._v(" "),t("el-col",{staticClass:"item-title",attrs:{span:24}},[a._v("销售信息")]),a._v(" "),t("el-form",{ref:"formdata2",attrs:{inline:!0,rules:a.rules1,model:a.formdata1,"label-width":"130px"}},[t("el-col",{attrs:{sm:24,md:12}},[t("el-form-item",{attrs:{label:"销售",prop:"projSaleName"}},[t("el-input",{attrs:{type:"text"},on:{change:a.changeProjSaleName},model:{value:a.formdata1.projSaleName,callback:function(e){a.$set(a.formdata1,"projSaleName",e)},expression:"formdata1.projSaleName"}})],1)],1),a._v(" "),t("el-col",{attrs:{sm:24,md:12}},[t("el-form-item",{attrs:{label:"销售主管",prop:"projSaleLinemgrno"}},[t("el-input",{attrs:{type:"text"},model:{value:a.formdata1.projSaleLinemgrno,callback:function(e){a.$set(a.formdata1,"projSaleLinemgrno",e)},expression:"formdata1.projSaleLinemgrno"}})],1)],1),a._v(" "),t("el-col",{attrs:{span:24}},[t("el-form-item",{attrs:{label:"项目说明",prop:"remark"}},[t("el-input",{attrs:{type:"textarea",autosize:{minRows:5,maxRows:5},placeholder:"请输入内容"},model:{value:a.formdata1.remark,callback:function(e){a.$set(a.formdata1,"remark",e)},expression:"formdata1.remark"}})],1)],1)],1),a._v(" "),t("el-col",{staticClass:"item-title",staticStyle:{position:"relative"},attrs:{span:24}},[a._v("立项预算\n\t\t\t\t\t"),t("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{name:"file",data:a.formdata,"on-change":a.changeUpload,"on-success":a.successUpload,action:"","show-file-list":!1,"auto-upload":!1,headers:a.token}},[t("el-button",{staticClass:"uploadBtn",staticStyle:{right:"151px","border-radius":"4px"},attrs:{slot:"trigger",type:"primary"},slot:"trigger"},[a._v("上传立项申请表")])],1)],1),a._v(" "),t("el-form",{ref:"formdata3",attrs:{inline:!0,rules:a.rules1,model:a.formdata1,"label-width":"130px"}},[t("el-col",{attrs:{sm:24,md:12}},[t("el-form-item",{attrs:{label:"总工作量",prop:"projBudTalwork"}},[t("el-input",{attrs:{type:"text"},model:{value:a.formdata1.projBudTalwork,callback:function(e){a.$set(a.formdata1,"projBudTalwork",e)},expression:"formdata1.projBudTalwork"}})],1)],1),a._v(" "),t("el-col",{attrs:{sm:24,md:12}},[t("el-form-item",{attrs:{label:"人力成本",prop:"projBudHrcost"}},[t("el-input",{attrs:{type:"text"},model:{value:a.formdata1.projBudHrcost,callback:function(e){a.$set(a.formdata1,"projBudHrcost",e)},expression:"formdata1.projBudHrcost"}})],1)],1),a._v(" "),t("el-col",{attrs:{sm:24,md:12}},[t("el-form-item",{attrs:{label:"费用成本",prop:"projBudExpcost"}},[t("el-input",{attrs:{type:"text"},model:{value:a.formdata1.projBudExpcost,callback:function(e){a.$set(a.formdata1,"projBudExpcost",e)},expression:"formdata1.projBudExpcost"}})],1)],1),a._v(" "),t("el-col",{attrs:{sm:24,md:12}},[t("el-form-item",{attrs:{label:"分包成本",prop:"projBudSubcost"}},[t("el-input",{attrs:{type:"text"},model:{value:a.formdata1.projBudSubcost,callback:function(e){a.$set(a.formdata1,"projBudSubcost",e)},expression:"formdata1.projBudSubcost"}})],1)],1),a._v(" "),t("el-col",{attrs:{sm:24,md:12}},[t("el-form-item",{attrs:{label:"税金",prop:"projBudTax"}},[t("el-input",{attrs:{type:"text"},model:{value:a.formdata1.projBudTax,callback:function(e){a.$set(a.formdata1,"projBudTax",e)},expression:"formdata1.projBudTax"}})],1)],1),a._v(" "),t("el-col",{attrs:{sm:24,md:12}},[t("el-form-item",{attrs:{label:"总收入",prop:"projBudTalinc"}},[t("el-input",{attrs:{type:"text"},model:{value:a.formdata1.projBudTalinc,callback:function(e){a.$set(a.formdata1,"projBudTalinc",e)},expression:"formdata1.projBudTalinc"}})],1)],1),a._v(" "),t("el-col",{attrs:{sm:24,md:12}},[t("el-form-item",{attrs:{label:"毛利润(GM)%",prop:"projGrsMarg"}},[t("el-input",{attrs:{type:"text"},model:{value:a.formdata1.projGrsMarg,callback:function(e){a.$set(a.formdata1,"projGrsMarg",e)},expression:"formdata1.projGrsMarg"}})],1)],1),a._v(" "),t("el-col",{attrs:{sm:24,md:12}},[t("el-form-item",{attrs:{label:"净利润(GM)%",prop:"projNetMarg"}},[t("el-input",{attrs:{type:"text"},model:{value:a.formdata1.projNetMarg,callback:function(e){a.$set(a.formdata1,"projNetMarg",e)},expression:"formdata1.projNetMarg"}})],1)],1)],1)],1)])],1)},staticRenderFns:[]}},671:function(a,e,t){function r(a){t(977)}var o=t(247)(t(875),t(1063),r,"data-v-19718894",null);a.exports=o.exports},710:function(a,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{link:[],breadItemLength:0}},created:function(){this.link=this.$route.matched;var a=this.$route.matched.length,e=/^\/.*\/$/g,t=e.test(this.$route.matched[a-1].path);this.breadItemLength=t?a-1:a},methods:{jump:function(){var a=this.link[this.breadItemLength-2];if(!a)return!1;this.activeTab&&this.pactNo&&this.userNo&&this.pactSubFlag?this.$router.push({name:"detail_contract",params:{activeTab:this.activeTab,pactNo:this.pactNo,userNo:this.userNo}}):this.activeTab&&this.pactNo?this.$router.push({name:a,params:{activeTab:this.activeTab,pactNo:this.pactNo}}):this.userNo?(console.log("走我的判断了"),console.log(a),this.$router.push(a)):this.$router.go(-1)}},props:{yiji:{type:String,default:""},erji:{type:String,default:""},sanji:{type:String,default:""},siji:{type:String,default:""},wuji:{type:String,default:""},liuji:{type:String,default:""},activeTab:{type:String,default:""},pactNo:{type:String,default:""},userNo:{type:String,default:""},pactSubFlag:{type:String,default:""}}}},711:function(a,e,t){e=a.exports=t(649)(!0),e.push([a.i,".location-wrapper[data-v-d69b0f44]{height:40px;line-height:40px;font-size:12px}.location-wrapper .el-row[data-v-d69b0f44]{width:100%}.location-wrapper .title[data-v-d69b0f44]{color:#475669;vertical-align:middle}.location-wrapper .breadcrumb-inner[data-v-d69b0f44]{font-size:12px;display:inline-block;vertical-align:middle}.pic[data-v-d69b0f44]{cursor:pointer}","",{version:3,sources:["F:/rem-ducj/Project_MS/MS_client/src/components/common/current_position.vue"],names:[],mappings:"AACA,mCACI,YAAa,AACb,iBAAkB,AAClB,cAAgB,CACnB,AACD,2CACI,UAAY,CACf,AACD,0CACI,cAAe,AACf,qBAAuB,CAC1B,AACD,qDACI,eAAgB,AAChB,qBAAsB,AACtB,qBAAuB,CAC1B,AACD,sBACI,cAAgB,CACnB",file:"current_position.vue",sourcesContent:["\n.location-wrapper[data-v-d69b0f44] {\n    height: 40px;\n    line-height: 40px;\n    font-size: 12px;\n}\n.location-wrapper .el-row[data-v-d69b0f44] {\n    width: 100%;\n}\n.location-wrapper .title[data-v-d69b0f44] {\n    color: #475669;\n    vertical-align: middle;\n}\n.location-wrapper .breadcrumb-inner[data-v-d69b0f44] {\n    font-size: 12px;\n    display: inline-block;\n    vertical-align: middle;\n}\n.pic[data-v-d69b0f44] {\n    cursor: pointer;\n}\n"],sourceRoot:""}])},712:function(a,e,t){var r=t(711);"string"==typeof r&&(r=[[a.i,r,""]]),r.locals&&(a.exports=r.locals);t(650)("ac789c3a",r,!0,{})},713:function(a,e){a.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAAMCAYAAACA0IaCAAAAAXNSR0IArs4c6QAAAH9JREFUKBVjYMAC/s9kaABhLFJ4hRjRZaGG1APFfwOxHmM6ww10Neh8oJ7/IDEWZAkUgxgZwhnTCBuErJ8JxsFi0HqYHLE02DBqGASykBHJIGIdgFMd3Js4VZAqAXIdEP8H4l//ZzEEkqofQ/2gM5AqiRbDm8gCUC83IIsRwwYAAytCRvQG4toAAAAASUVORK5CYII="},714:function(a,e,t){function r(a){t(712)}var o=t(247)(t(710),t(715),r,"data-v-d69b0f44",null);a.exports=o.exports},715:function(a,e,t){a.exports={render:function(){var a=this,e=a.$createElement,r=a._self._c||e;return r("div",{staticClass:"location-wrapper"},[r("el-row",[r("el-col",{attrs:{span:22}},[r("span",{staticClass:"title"},[a._v("当前位置：")]),a._v(" "),r("el-breadcrumb",{staticClass:"breadcrumb-inner",attrs:{separator:"/"}},[a.yiji?r("el-breadcrumb-item",{staticClass:"test1"},[a._v(a._s(a.yiji))]):a._e(),a._v(" "),a.erji?r("el-breadcrumb-item",{staticClass:"test1",attrs:{to:{path:a.link[1].path}}},[a._v(a._s(a.erji))]):a._e(),a._v(" "),a.sanji?r("el-breadcrumb-item",{staticClass:"test1",attrs:{to:{path:a.link[2].path}}},[a._v(a._s(a.sanji))]):a._e(),a._v(" "),a.siji?r("el-breadcrumb-item",{staticClass:"test1",attrs:{to:{path:a.link[3].path}}},[a._v(a._s(a.siji))]):a._e(),a._v(" "),a.wuji?r("el-breadcrumb-item",{staticClass:"test1",attrs:{to:{path:a.link[4].path}}},[a._v(a._s(a.wuji))]):a._e(),a._v(" "),a.liuji?r("el-breadcrumb-item",{staticClass:"test1",attrs:{to:{path:a.link[5].path}}},[a._v(a._s(a.liuji))]):a._e(),a._v(" "),a._e(),a._v(" "),a._e(),a._v(" "),a._e(),a._v(" "),a._e()],1)],1),a._v(" "),r("el-col",{directives:[{name:"show",rawName:"v-show",value:a.breadItemLength>2,expression:"breadItemLength>2"}],attrs:{span:2}},[r("img",{staticClass:"pic",attrs:{src:t(713),alt:"pic",width:"19",height:"12"},on:{click:a.jump}})])],1)],1)},staticRenderFns:[]}},875:function(a,e,t){"use strict";function r(a,e,t){return e in a?Object.defineProperty(a,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):a[e]=t,a}Object.defineProperty(e,"__esModule",{value:!0});var o=t(714),p=function(a){return a&&a.__esModule?a:{default:a}}(o);e.default={data:function(){var a,e=this,t=function(a,t,r){e.formdata1.projImpEndate&&t>=e.formdata1.projImpEndate?r(new Error("请输入正确的开始时间")):r()},o=function(a,t,r){e.formdata1.projImpBegdate&&t<=e.formdata1.projImpBegdate?r(new Error("请输入正确的结束时间")):r()};return{token:{Authorization:"Bearer "+localStorage.getItem("access_token")},fileFlag:"",formdata1:{projName:"",projIncmConfim:"",coocustNo:"",projSrvMngmode:"",projType:"",projIncmType:"",applyNo:"",porjPreconDate:"",projImpBegdate:"",projImpEndate:"",projPreconAmt:"",workotStartCity:"",workotArrivalCity:"",projOrdType:"",workotSTD:"",projImplePla:"",attachm:"",updateBy:"",updateTime:""},projTypeList:[{paraValue:"ASD",paraShowMsg:"应用系统开发"},{paraValue:"SPD",paraShowMsg:"软件产品开发"},{paraValue:"APM",paraShowMsg:"应用维护升级"},{paraValue:"SSI",paraShowMsg:"系统集成"},{paraValue:"ISS",paraShowMsg:"信息系统安全"},{paraValue:"ASC",paraShowMsg:"咨询服务"},{paraValue:"OTH",paraShowMsg:"其他"}],projIncmTypeList:[{paraValue:"01",paraShowMsg:"Pipeline"},{paraValue:"02",paraShowMsg:"EATP"},{paraValue:"03",paraShowMsg:"Frotlog"},{paraValue:"04",paraShowMsg:"Backlog"}],userNoList:[{paraValue:"01",paraShowMsg:"中国平安"},{paraValue:"02",paraShowMsg:"招商银行"}],fuwuModelList:[{paraValue:"01",paraShowMsg:"项目外包"},{paraValue:"02",paraShowMsg:"人力外包"},{paraValue:"03",paraShowMsg:"解决方案"},{paraValue:"04",paraShowMsg:"其他"}],incmConfimList:[{paraValue:"T&M",paraShowMsg:"外包"},{paraValue:"FIX",paraShowMsg:"固定金额"}],dindanTypeList:[{paraShowMsg:"NEW SELL",paraValue:"NS"},{paraShowMsg:"UP SELL",paraValue:"US"},{paraShowMsg:"RE NEW",paraValue:"RN"}],rules1:(a={projName:[{required:!0,message:"项目名称不能为空",trigger:"blur"}],projIncmConfim:[{required:!0,message:"收入类型不能为空",trigger:"blur"}],coocustNo:[{required:!0,message:"客户不能为空",trigger:"blur"}],projSrvMngmode:[{required:!0,message:"服务管理模式不能为空",trigger:"blur"}],projType:[{required:!0,message:"项目类型不能为空",trigger:"blur"}]},r(a,"projIncmConfim",[{required:!0,message:"收入确认类型不能为空",trigger:"blur"}]),r(a,"projPreconAmt",[{required:!0,message:"预算合同金额不能为空",trigger:"blur"}]),r(a,"projOrdType",[{required:!0,message:"订单类型不能为空",trigger:"blur"}]),r(a,"projImplePla",[]),r(a,"porjPreconDate",[{required:!0,message:"预计合同签订时间不能为空",trigger:"change"}]),r(a,"projImpBegdate",[{required:!0,validator:t,trigger:"change"}]),r(a,"projImpEndate",[{required:!0,validator:o,trigger:"change"}]),r(a,"projSaleName",[{required:!0,message:"销售人员姓名不能为空",trigger:"blur"}]),r(a,"projSaleLinemgrno",[]),r(a,"remark",[{min:0,max:512,message:"长度在 0 到 512 个字符之间",trigger:"blur"}]),r(a,"projBudTalwork",[{required:!0,message:"总工作量不能为空",trigger:"blur"},{pattern:/^\d{1,14}(\.\d{1,2})?$/,message:"可精确到小数点后2位的数"}]),r(a,"projBudHrcost",[{required:!0,message:"人力成本不能为空",trigger:"blur"},{pattern:/^\d{1,14}(\.\d{1,2})?$/,message:"可精确到小数点后2位的数"}]),r(a,"projBudExpcost",[{required:!0,message:"费用成本不能为空",trigger:"blur"},{pattern:/^\d{1,14}(\.\d{1,2})?$/,message:"可精确到小数点后2位的数"}]),r(a,"projBudSubcost",[{required:!0,message:"分包成本不能为空",trigger:"blur"},{pattern:/^\d{1,14}(\.\d{1,2})?$/,message:"可精确到小数点后2位的数"}]),r(a,"projBudTax",[{required:!0,message:"税金不能为空",trigger:"blur"},{pattern:/^\d{1,14}(\.\d{1,2})?$/,message:"可精确到小数点后2位的数"}]),r(a,"projBudTalinc",[{required:!0,message:"总收入不能为空",trigger:"blur"},{pattern:/^\d{1,14}(\.\d{1,2})?$/,message:"可精确到小数点后2位的数"}]),r(a,"projGrsMarg",[{required:!0,message:"毛利润不能为空",trigger:"blur"},{pattern:/^\d{1,14}(\.\d{1,2})?$/,message:"可精确到小数点后2位的数"}]),r(a,"projNetMarg",[{required:!0,message:"毛利润不能为空",trigger:"blur"},{pattern:/^\d{1,14}(\.\d{1,2})?$/,message:"可精确到小数点后2位的数"}]),a)}},components:{current:p.default},created:function(){},computed:{formdata:function(){return{}}},methods:{changePorjPreconDate:function(a){this.formdata1.porjPreconDate=a},changeStartTime:function(a){this.formdata1.projImpBegdate=a},changeEndTime:function(a){this.formdata1.projImpEndate=a},changeProjSaleName:function(a){console.log(a)},changeUpload:function(a,e){this.fileFlag=a,this.formdata1.attachm=a.name},successUpload:function(a,e,t){"S00000"===a.code&&this.$message({message:"操作成功",type:"success"})},handleSaveAndSubmit:function(){var a=this;a.$refs.formdata1.validate(function(e){e&&a.$refs.formdata2.validate(function(e){e&&a.$refs.formdata3.validate(function(e){if(e){console.log("valid");var t=parseFloat((Number(a.formdata1.projGrsMarg)/100).toFixed(8)),r=parseFloat((Number(a.formdata1.projNetMarg)/100).toFixed(8)),o={projName:a.formdata1.projName,projIncmConfim:a.formdata1.projIncmConfim,coocustNo:a.formdata1.coocustNo,projSrvMngmode:a.formdata1.projSrvMngmode,projType:a.formdata1.projType,projIncmType:a.formdata1.projIncmType,projPreconAmt:a.formdata1.projPreconAmt,projOrdType:a.formdata1.projOrdType,projImplePla:a.formdata1.projImplePla||"",porjPreconDate:a.formdata1.porjPreconDate,projImpBegdate:a.formdata1.projImpBegdate||"",projImpEndate:a.formdata1.projImpEndate||"",projSaleName:a.formdata1.projSaleName||"",projSaleLinemgrno:a.formdata1.projSaleLinemgrno||"",remark:a.formdata1.remark||"",projBudTalwork:a.formdata1.projBudTalwork||"",projBudHrcost:a.formdata1.projBudHrcost||"",projBudExpcost:a.formdata1.projBudExpcost||"",projBudSubcost:a.formdata1.projBudSubcost||"",projBudTax:a.formdata1.projBudTax||"",projBudTalinc:a.formdata1.projBudTalinc||"",projGrsMarg:t||"",projNetMarg:r||""};console.log("params",o),a.savePreSale(o),a.submitPreSale(o)}})})})},handleNotSubmit:function(){var a=this;a.$refs.formdata1.validate(function(e){e&&a.$refs.formdata2.validate(function(e){e&&a.$refs.formdata3.validate(function(e){if(e){console.log("valid1");var t=parseFloat((Number(a.formdata1.projGrsMarg)/100).toFixed(8)),r=parseFloat((Number(a.formdata1.projNetMarg)/100).toFixed(8)),o={projName:a.formdata1.projName,projIncmConfim:a.formdata1.projIncmConfim,coocustNo:a.formdata1.coocustNo,projSrvMngmode:a.formdata1.projSrvMngmode,projType:a.formdata1.projType,projIncmType:a.formdata1.projIncmType,projPreconAmt:a.formdata1.projPreconAmt||"",projOrdType:a.formdata1.projOrdType||"",projImplePla:a.formdata1.projImplePla||"",porjPreconDate:a.formdata1.porjPreconDate||"",projImpBegdate:a.formdata1.projImpBegdate||"",projImpEndate:a.formdata1.projImpEndate||"",projSaleName:a.formdata1.projSaleName||"",projSaleLinemgrno:a.formdata1.projSaleLinemgrno||"",remark:a.formdata1.remark||"",projBudTalwork:a.formdata1.projBudTalwork||"",projBudHrcost:a.formdata1.projBudHrcost||"",projBudExpcost:a.formdata1.projBudExpcost||"",projBudSubcost:a.formdata1.projBudSubcost||"",projBudTax:a.formdata1.projBudTax||"",projBudTalinc:a.formdata1.projBudTalinc||"",projGrsMarg:t||"",projNetMarg:r||""};console.log("params",o),a.savePreSale(o)}})})})},savePreSale:function(a){var e=this;e.$axios.post("iem_pmg/presale/addPresaleProjInfo",a).then(function(a){console.log("savePreSale",a),"S00000"===a.data.code&&e.$message({message:"操作成功",type:"success"})}).catch(function(a){console.log("error")})},submitPreSale:function(a){var e=this;e.$axios.post("iem_pmg",a).then(function(a){console.log("submitPreSale",a),"S00000"===a.data.code&&e.$message({message:"操作成功",type:"success"})}).catch(function(a){console.log("error")})},queryprojIncmTypeList:function(){var a=this;a.$axios.get("iem_pmg/sysParamMgmt/queryPubAppParams?paraCode=PROJ_INCM_TYPE").then(function(e){console.log("projIncmTypeList",e),"S00000"===e.data.code&&(a.projIncmTypeList=e.data.data)}).catch(function(a){console.log("error")})},queryincmConfimList:function(){var a=this;a.$axios.get("iem_pmg/sysParamMgmt/queryPubAppParams?paraCode=INCM_CONFIM").then(function(e){console.log("incmConfimList",e),"S00000"===e.data.code&&(a.incmConfimList=e.data.data)}).catch(function(a){console.log("error")})},queryprojTypeList:function(){var a=this;a.$axios.get("iem_pmg/sysParamMgmt/queryPubAppParams?paraCode=PROJ_TYPE").then(function(e){console.log("projTypeList",e),"S00000"===e.data.code&&(a.projTypeList=e.data.data)}).catch(function(a){console.log("error")})}}}},918:function(a,e,t){e=a.exports=t(649)(!0),e.push([a.i,".add_preSale[data-v-19718894]{padding:0 0 20px 20px}.addPreSaleButton_wrapper[data-v-19718894]{width:400px;margin:0 auto}.titleBtn_wrapper[data-v-19718894]{float:right}","",{version:3,sources:["F:/rem-ducj/Project_MS/MS_client/src/components/view/project_Mgmt/preSale/add_preSale.vue"],names:[],mappings:"AACA,8BACC,qBAAuB,CACvB,AACD,2CACC,YAAa,AACb,aAAe,CACf,AACD,mCACC,WAAa,CACb",file:"add_preSale.vue",sourcesContent:["\n.add_preSale[data-v-19718894] {\n\tpadding: 0 0 20px 20px;\n}\n.addPreSaleButton_wrapper[data-v-19718894] {\n\twidth: 400px;\n\tmargin: 0 auto;\n}\n.titleBtn_wrapper[data-v-19718894] {\n\tfloat: right;\n}\n"],sourceRoot:""}])},977:function(a,e,t){var r=t(918);"string"==typeof r&&(r=[[a.i,r,""]]),r.locals&&(a.exports=r.locals);t(650)("6c7467dc",r,!0,{})}});
//# sourceMappingURL=37.f7be6befb8f64daf23da.js.map