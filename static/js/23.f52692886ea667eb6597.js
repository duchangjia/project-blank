webpackJsonp([23],{1003:function(e,t,a){var r=a(944);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);a(650)("68ddffed",r,!0,{})},1091:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"user-info"},[a("current",{attrs:{yiji:"系统管理",erji:"用户管理",sanji:"用户信息"}}),e._v(" "),a("div",{staticClass:"content-wrapper"},[a("div",{staticClass:"titlebar"},[a("span",{staticClass:"title-text"},[e._v("用户信息")]),e._v(" "),a("el-button",{staticClass:"toolBtn",attrs:{type:"primary"},on:{click:function(t){e.conserve("userDetail")}}},[e._v("保存")]),e._v(" "),a("el-button",{staticClass:"toolBtn",staticStyle:{"margin-right":"20px"},attrs:{type:"primary"},on:{click:function(t){e.resetPass()}}},[e._v("密码重置")])],1),e._v(" "),a("div",{staticClass:"add-wrapper"},[a("el-form",{ref:"userDetail",attrs:{inline:!0,model:e.userDetail,rules:e.rules,"label-width":"80px"}},[a("el-col",{attrs:{sm:24,md:12}},[a("el-form-item",{attrs:{label:"姓名",prop:"userName"}},[a("el-input",{ref:"user",attrs:{disabled:!0},model:{value:e.userDetail.userName,callback:function(t){e.$set(e.userDetail,"userName",t)},expression:"userDetail.userName"}})],1)],1),e._v(" "),a("el-col",{attrs:{sm:24,md:12}},[a("el-form-item",{attrs:{label:"工号",prop:"userNo"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.userDetail.userNo,callback:function(t){e.$set(e.userDetail,"userNo",t)},expression:"userDetail.userNo"}})],1)],1),e._v(" "),a("el-col",{attrs:{sm:24,md:12}},[a("el-form-item",{attrs:{label:"所属公司"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.userDetail.compName,callback:function(t){e.$set(e.userDetail,"compName",t)},expression:"userDetail.compName"}})],1)],1),e._v(" "),a("el-col",{attrs:{sm:24,md:12}},[a("el-form-item",{attrs:{label:"所属部门",prop:"departOrgNo"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.userDetail.departName,callback:function(t){e.$set(e.userDetail,"departName",t)},expression:"userDetail.departName"}})],1)],1),e._v(" "),a("el-col",{attrs:{sm:24,md:12}},[a("el-form-item",{attrs:{label:"角色",prop:"roleNo"}},[a("el-select",{staticClass:"bg-white",attrs:{multiple:"","value-key":"roleNo"},on:{change:e.changeValue},model:{value:e.userDetail.roles,callback:function(t){e.$set(e.userDetail,"roles",t)},expression:"userDetail.roles"}},e._l(e.roleList,function(e,t){return a("el-option",{key:e.roleNo,attrs:{label:e.roleName,value:e}})}))],1)],1),e._v(" "),a("el-col",{attrs:{sm:24,md:12}},[a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{staticClass:"bg-white",model:{value:e.userDetail.status,callback:function(t){e.$set(e.userDetail,"status",t)},expression:"userDetail.status"}},[a("el-option",{attrs:{label:"正常",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"停用",value:"0"}}),e._v(" "),a("el-option",{attrs:{label:"锁定",value:"2"}})],1)],1)],1),e._v(" "),a("el-col",{attrs:{sm:24,md:12}},[a("el-form-item",{attrs:{label:"手机",prop:"mobile"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.userDetail.mobile,callback:function(t){e.$set(e.userDetail,"mobile",t)},expression:"userDetail.mobile"}})],1)],1),e._v(" "),a("el-col",{attrs:{sm:24,md:12}},[a("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.userDetail.email,callback:function(t){e.$set(e.userDetail,"email",t)},expression:"userDetail.email"}})],1)],1),e._v(" "),a("el-col",{attrs:{sm:24,md:12}},[a("el-form-item",{attrs:{label:"身份证",prop:"certNo"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.userDetail.certNo,callback:function(t){e.$set(e.userDetail,"certNo",t)},expression:"userDetail.certNo"}})],1)],1),e._v(" "),a("el-col",{attrs:{sm:24,md:12}},[a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{staticClass:"bg-white",model:{value:e.userDetail.remark,callback:function(t){e.$set(e.userDetail,"remark",t)},expression:"userDetail.remark"}})],1)],1)],1)],1)])],1)},staticRenderFns:[]}},700:function(e,t,a){function r(e){a(1003)}var s=a(247)(a(901),a(1091),r,null,null);e.exports=s.exports},710:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{link:[],breadItemLength:0}},created:function(){this.link=this.$route.matched;var e=this.$route.matched.length,t=/^\/.*\/$/g,a=t.test(this.$route.matched[e-1].path);this.breadItemLength=a?e-1:e},methods:{jump:function(){var e=this.link[this.breadItemLength-2];if(!e)return!1;this.activeTab&&this.pactNo&&this.userNo&&this.pactSubFlag?this.$router.push({name:"detail_contract",params:{activeTab:this.activeTab,pactNo:this.pactNo,userNo:this.userNo}}):this.activeTab&&this.pactNo?this.$router.push({name:e,params:{activeTab:this.activeTab,pactNo:this.pactNo}}):this.userNo?(console.log("走我的判断了"),console.log(e),this.$router.push(e)):this.$router.go(-1)}},props:{yiji:{type:String,default:""},erji:{type:String,default:""},sanji:{type:String,default:""},siji:{type:String,default:""},wuji:{type:String,default:""},liuji:{type:String,default:""},activeTab:{type:String,default:""},pactNo:{type:String,default:""},userNo:{type:String,default:""},pactSubFlag:{type:String,default:""}}}},711:function(e,t,a){t=e.exports=a(649)(!0),t.push([e.i,".location-wrapper[data-v-d69b0f44]{height:40px;line-height:40px;font-size:12px}.location-wrapper .el-row[data-v-d69b0f44]{width:100%}.location-wrapper .title[data-v-d69b0f44]{color:#475669;vertical-align:middle}.location-wrapper .breadcrumb-inner[data-v-d69b0f44]{font-size:12px;display:inline-block;vertical-align:middle}.pic[data-v-d69b0f44]{cursor:pointer}","",{version:3,sources:["F:/rem-ducj/Project_MS/MS_client/src/components/common/current_position.vue"],names:[],mappings:"AACA,mCACI,YAAa,AACb,iBAAkB,AAClB,cAAgB,CACnB,AACD,2CACI,UAAY,CACf,AACD,0CACI,cAAe,AACf,qBAAuB,CAC1B,AACD,qDACI,eAAgB,AAChB,qBAAsB,AACtB,qBAAuB,CAC1B,AACD,sBACI,cAAgB,CACnB",file:"current_position.vue",sourcesContent:["\n.location-wrapper[data-v-d69b0f44] {\n    height: 40px;\n    line-height: 40px;\n    font-size: 12px;\n}\n.location-wrapper .el-row[data-v-d69b0f44] {\n    width: 100%;\n}\n.location-wrapper .title[data-v-d69b0f44] {\n    color: #475669;\n    vertical-align: middle;\n}\n.location-wrapper .breadcrumb-inner[data-v-d69b0f44] {\n    font-size: 12px;\n    display: inline-block;\n    vertical-align: middle;\n}\n.pic[data-v-d69b0f44] {\n    cursor: pointer;\n}\n"],sourceRoot:""}])},712:function(e,t,a){var r=a(711);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);a(650)("ac789c3a",r,!0,{})},713:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAAMCAYAAACA0IaCAAAAAXNSR0IArs4c6QAAAH9JREFUKBVjYMAC/s9kaABhLFJ4hRjRZaGG1APFfwOxHmM6ww10Neh8oJ7/IDEWZAkUgxgZwhnTCBuErJ8JxsFi0HqYHLE02DBqGASykBHJIGIdgFMd3Js4VZAqAXIdEP8H4l//ZzEEkqofQ/2gM5AqiRbDm8gCUC83IIsRwwYAAytCRvQG4toAAAAASUVORK5CYII="},714:function(e,t,a){function r(e){a(712)}var s=a(247)(a(710),a(715),r,"data-v-d69b0f44",null);e.exports=s.exports},715:function(e,t,a){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"location-wrapper"},[r("el-row",[r("el-col",{attrs:{span:22}},[r("span",{staticClass:"title"},[e._v("当前位置：")]),e._v(" "),r("el-breadcrumb",{staticClass:"breadcrumb-inner",attrs:{separator:"/"}},[e.yiji?r("el-breadcrumb-item",{staticClass:"test1"},[e._v(e._s(e.yiji))]):e._e(),e._v(" "),e.erji?r("el-breadcrumb-item",{staticClass:"test1",attrs:{to:{path:e.link[1].path}}},[e._v(e._s(e.erji))]):e._e(),e._v(" "),e.sanji?r("el-breadcrumb-item",{staticClass:"test1",attrs:{to:{path:e.link[2].path}}},[e._v(e._s(e.sanji))]):e._e(),e._v(" "),e.siji?r("el-breadcrumb-item",{staticClass:"test1",attrs:{to:{path:e.link[3].path}}},[e._v(e._s(e.siji))]):e._e(),e._v(" "),e.wuji?r("el-breadcrumb-item",{staticClass:"test1",attrs:{to:{path:e.link[4].path}}},[e._v(e._s(e.wuji))]):e._e(),e._v(" "),e.liuji?r("el-breadcrumb-item",{staticClass:"test1",attrs:{to:{path:e.link[5].path}}},[e._v(e._s(e.liuji))]):e._e(),e._v(" "),e._e(),e._v(" "),e._e(),e._v(" "),e._e(),e._v(" "),e._e()],1)],1),e._v(" "),r("el-col",{directives:[{name:"show",rawName:"v-show",value:e.breadItemLength>2,expression:"breadItemLength>2"}],attrs:{span:2}},[r("img",{staticClass:"pic",attrs:{src:a(713),alt:"pic",width:"19",height:"12"},on:{click:e.jump}})])],1)],1)},staticRenderFns:[]}},901:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(714),s=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default={data:function(){return{oldStatus:1,olduserDetail:{},userDetail:{userName:"",userNo:"",compName:"",compOrgNo:"",departName:"",departOrgNo:"",roles:[{roleName:"",roleNo:""}],status:"",mobile:"",email:"",certNo:"",remark:""},comp:{compName:"",compOrgNo:""},depart:{departName:"",departOrgNo:""},role:{roleName:"",roleNo:""},roleList:[],departList:[],compList:[],rules:{userName:[],email:[],remark:[{min:0,max:512,message:"长度在 0 到 512 个字符之间",trigger:"blur"}]}}},components:{current:s.default},created:function(){var e=this,t=e.$route.params.user;e.queryUserDetail(t),e.queryRoleList()},methods:{changeValue:function(e){var t=this;t.userDetail.compName=t.comp.compName,t.userDetail.compOrgNo=t.comp.compOrgNo,t.userDetail.departName=t.depart.departName,t.userDetail.departOrgNo=t.depart.departOrgNo,t.userDetail.roleName=t.role.roleName,t.userDetail.roleNo=t.role.roleNo},resetPass:function(){var e=this;e.$confirm("此操作将重置该用户登陆密码为身份证后6位，是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var t={userNo:e.userDetail.userNo};e.resetPassword(t)}).catch(function(){e.$message({type:"info",message:"已取消操作"})})},conserve:function(e){var t=this;t.$refs[e].validate(function(e){if(!e)return!1;var a=!1,r=t.userDetail.roles,s=[];for(var i in r)s.push(r[i].roleNo);var o={roleNoes:s,userNo:t.userDetail.userNo,status:t.userDetail.status,remark:t.userDetail.remark};for(var l in t.userDetail)t.olduserDetail[l]!==t.userDetail[l]&&(a=!0);!0===a?t.updateUserInfo(o):t.$alert("你还未修改信息","提示",{confirmButtonText:"确定"})})},queryUserDetail:function(e){var t=this;t.$axios.get("iem_pmg/user/queryUserDetail/"+e).then(function(e){t.userDetail=e.data.data,t.oldStatus=t.userDetail.status,t.comp={compOrgNo:e.data.data.compOrgNo,compName:e.data.data.compName},t.depart={departName:e.data.data.departName,departOrgNo:e.data.data.departOrgNo},t.role={roleName:e.data.data.roleName,roleNo:e.data.data.roleNo};for(var a in t.userDetail)t.olduserDetail[a]=t.userDetail[a]}).catch(function(e){console.log(e)})},updateUserInfo:function(e){var t=this;t.$axios.put("iem_pmg/user/updateUserInfo",e).then(function(e){"S00000"==e.data.code?(t.$message({message:"操作成功",type:"success"}),t.$router.push("/management_user")):console.log("error")}).catch(function(e){console.log("error")})},queryRoleList:function(){var e=this;e.$axios.get("iem_pmg/role/queryRoleByUid").then(function(t){console.log("RoleList",t),e.roleList=t.data.data}).catch(function(e){console.log("error")})},resetPassword:function(e){var t=this;t.$axios.put("iem_pmg/user/resetPassword",e).then(function(e){console.log("resetPassword",e),"S00000"==e.data.code&&t.$message({message:"操作成功",type:"success"})}).catch(function(e){console.log("error")})}}}},944:function(e,t,a){t=e.exports=a(649)(!0),t.push([e.i,".user-info{padding-left:20px;padding-bottom:20px;width:100%;position:relative}","",{version:3,sources:["F:/rem-ducj/Project_MS/MS_client/src/components/view/system_Mgmt/edit_userM.vue"],names:[],mappings:"AACA,WACC,kBAAmB,AAChB,oBAAqB,AACxB,WAAY,AACZ,iBAAmB,CACnB",file:"edit_userM.vue",sourcesContent:["\n.user-info {\n\tpadding-left: 20px;\n    padding-bottom: 20px;\n\twidth: 100%;\n\tposition: relative;\n}\n"],sourceRoot:""}])}});
//# sourceMappingURL=23.f52692886ea667eb6597.js.map